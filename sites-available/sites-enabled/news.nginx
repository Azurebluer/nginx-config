###
# news-proxy
###

server {
  listen 443 ssl;
  server_name news.freecodecamp.org;

  ssl on;
  include snippets/ssl.conf;

  location / {

    proxy_pass http://10.0.0.5:80;
    include snippets/proxy-params.nginx;
  }

#  location / {
#    return 302 https://maintenance-page.freecodecamp.org/;
#  }
}

# redirect non http to https
server {
  listen 80;
  server_name news.freecodecamp.org;

  return 301 https://news.freecodecamp.org$request_uri;
}
